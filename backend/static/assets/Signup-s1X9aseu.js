import{r,a as P,j as e,L as C}from"./index-CiXFLfrc.js";import{c as F}from"./customAxios-D_Yu-ABU.js";import{L}from"./Loader-DX-fbhJX.js";import"./index-ngrFHoWO.js";function R(){const[l,x]=r.useState(""),[u,f]=r.useState(""),[c,j]=r.useState(""),[o,N]=r.useState(""),[i,v]=r.useState(""),[m,w]=r.useState(""),[d,a]=r.useState(""),[p,h]=r.useState(""),[g,t]=r.useState(!1),b=P(),y=async s=>{if(s.preventDefault(),a(""),h(""),t(!0),i!==m){a("Passwords do not match!"),t(!1);return}if(!/^\+?[0-9]{10,15}$/.test(o)){a("Please enter a valid phone number (10-15 digits, optional +)."),t(!1);return}const S={email:l,first_name:u,last_name:c,phone_number:o,password:i};try{await F.post("https://www.2125signature.com/api/signup",S),h("Signup successful! Please check your email for a verification link to activate your account."),setTimeout(()=>{b("/login")},5e3)}catch(n){console.error("Error during signup:",n),a(n.response?.data?.detail||"An error occurred during signup. Please try again later.")}finally{t(!1)}};return e.jsxs("div",{className:"login-container",children:[" ",e.jsxs("form",{className:"signup-form",onSubmit:y,children:[" ",e.jsx("h2",{children:"Sign Up"}),d&&e.jsx("p",{className:"error-message",children:d}),p&&e.jsx("p",{className:"success-message",children:p}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"firstName",children:"First Name"}),e.jsx("input",{type:"text",id:"firstName",value:u,onChange:s=>f(s.target.value),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"lastName",children:"Last Name"}),e.jsx("input",{type:"text",id:"lastName",value:c,onChange:s=>j(s.target.value),required:!0})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",id:"email",value:l,onChange:s=>x(s.target.value),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"phoneNumber",children:"Phone Number"}),e.jsx("input",{type:"text",id:"phoneNumber",value:o,onChange:s=>N(s.target.value),required:!0})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("input",{type:"password",id:"password",value:i,onChange:s=>v(s.target.value),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),e.jsx("input",{type:"password",id:"confirmPassword",value:m,onChange:s=>w(s.target.value),required:!0})]})]}),e.jsx("button",{type:"submit",className:"btn-primary",disabled:g,children:g?e.jsx(L,{loaderType:"Pulse",size:10}):"Sign Up"}),e.jsxs("p",{className:"signup-link-container",children:["Already have an account? ",e.jsx(C,{to:"/login",children:"Login"})]})]})]})}export{R as default};
