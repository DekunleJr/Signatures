import{c as p,r as l,j as r,L as v}from"./index-Dms-G0Gk.js";import{c as x}from"./customAxios-D_Yu-ABU.js";import{L as y}from"./Loader-DezCF1lE.js";import"./index-ngrFHoWO.js";const _="/static/assets/hero-1-C6FHvuNY.jpg",b="/static/assets/hero-2-DK1LAisS.jpg",N="/static/assets/hero-3-Dcpuuwiz.jpg",k=e=>{const t=p.c(7),{videoId:d,videoSrc:o}=e,i=l.useRef(null),s=l.useRef(null);let a;t[0]!==o?(a=()=>{const f={root:null,rootMargin:"0px",threshold:.5},h=g=>{g.forEach(m=>{m.isIntersecting?o&&s.current&&s.current.play():o&&s.current&&s.current.pause()})},u=new IntersectionObserver(h,f);return i.current&&u.observe(i.current),s.current&&u.observe(s.current),()=>{i.current&&u.unobserve(i.current),s.current&&u.unobserve(s.current)}},t[0]=o,t[1]=a):a=t[1];let c;t[2]!==d||t[3]!==o?(c=[d,o],t[2]=d,t[3]=o,t[4]=c):c=t[4],l.useEffect(a,c);let n;return t[5]!==o?(n=r.jsx(r.Fragment,{children:o?r.jsx("video",{ref:s,className:"video-container",src:o,loop:!0,autoPlay:!0,muted:!0,playsInline:!0,onLoadedData:w,onError:S}):r.jsx("div",{className:"video-container",children:r.jsx("p",{children:"No video source provided."})})}),t[5]=o,t[6]=n):n=t[6],n};function w(){return console.log("Local video loaded successfully!")}function S(e){return console.error("Error loading local video:",e)}function E(){const[e,t]=l.useState({}),[d,o]=l.useState(!0),[i,s]=l.useState(null);return l.useEffect(()=>{(async()=>{try{const{data:c}=await x.get("/home/");t(c.works_by_category)}catch(c){console.error("Error fetching categorized works:",c),s("Failed to load works. Please try again later.")}finally{o(!1)}})()},[]),d?r.jsx(y,{}):i?r.jsx("div",{className:"error-message",children:i}):r.jsx("section",{className:"categorized-works",children:r.jsx("div",{className:"container",children:Object.keys(e).length===0?r.jsx("p",{children:"No categorized works found."}):Object.entries(e).map(([a,c])=>r.jsxs("div",{className:"category-section",children:[r.jsx("h2",{className:"category-title",children:a}),r.jsx("div",{className:"categorized-works-grid",children:c.map(n=>r.jsx("div",{className:"categorized-work-item",style:{backgroundImage:`url(${n.img_url})`},children:r.jsxs("div",{className:"categorized-work-info",children:[r.jsx("h3",{children:n.title}),r.jsx("p",{children:n.description})]})},n.id))})]},a))})})}const I=[_,b,N];function P(){const e=p.c(10),[,t]=l.useState(0);let d;e[0]===Symbol.for("react.memo_cache_sentinel")?(d=[],e[0]=d):d=e[0];const[,o]=l.useState(d);let i,s;e[1]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{const m=setInterval(()=>{t(L)},5e3);return()=>clearInterval(m)},s=[],e[1]=i,e[2]=s):(i=e[1],s=e[2]),l.useEffect(i,s);let a,c;e[3]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{(async()=>{try{const{data:m}=await x.get("/portfolio/");let j=[];Array.isArray(m.works)&&(j=m.works.sort(z).slice(0,3)),o(j)}catch(m){console.error("Error fetching recent projects:",m)}})()},c=[],e[3]=a,e[4]=c):(a=e[3],c=e[4]),l.useEffect(a,c);let n,f;e[5]===Symbol.for("react.memo_cache_sentinel")?(n=r.jsx(k,{videoSrc:"/static/signature.mp4"}),f=r.jsx("div",{className:"hero-overlay"}),e[5]=n,e[6]=f):(n=e[5],f=e[6]);let h,u;e[7]===Symbol.for("react.memo_cache_sentinel")?(h=r.jsx("h1",{children:"Creative Interior Design"}),u=r.jsx("p",{children:"Transforming spaces with modern and elegant interior decoration solutions."}),e[7]=h,e[8]=u):(h=e[7],u=e[8]);let g;return e[9]===Symbol.for("react.memo_cache_sentinel")?(g=r.jsxs("div",{className:"home",children:[r.jsxs("section",{className:"hero-video",children:[n,f,r.jsxs("div",{className:"hero-content",children:[h,u,r.jsx(v,{to:"/portfolio",children:r.jsx("button",{className:"btn-primary",children:"Check Out Our Projects"})})]})]}),r.jsx(E,{})]}),e[9]=g):g=e[9],g}function z(e,t){return new Date(t.created_at)-new Date(e.created_at)}function L(e){return e===I.length-1?0:e+1}export{P as default};
