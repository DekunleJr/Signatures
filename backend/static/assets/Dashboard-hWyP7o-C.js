import{r as i,u as c,j as s,L as n}from"./index-AoGoU4kM.js";import{c as h}from"./customAxios-D_Yu-ABU.js";import{L as x}from"./Loader-DfnFbPMN.js";import"./index-ngrFHoWO.js";function f(){const[e,d]=i.useState(null),[l,o]=i.useState(!0),{user:t}=c();return i.useEffect(()=>{t&&(async()=>{try{const{data:r}=await h.get("/dashboard");d(r)}catch(r){console.error("Error fetching dashboard data:",r)}finally{o(!1)}})()},[t]),l?s.jsx("p",{style:{margin:" auto 0"},children:s.jsx(x,{})}):e?s.jsxs("div",{className:"dashboard",children:[s.jsxs("aside",{className:"user-details",children:[s.jsx("h2",{children:"My Details"}),s.jsxs("p",{children:[s.jsx("strong",{children:"First Name:"})," ",e.first_name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Last Name:"})," ",e.last_name]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," ",e.email]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Phone Number:"})," ",e.phone_number]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Role:"})," ",e.is_admin?"Admin":"User"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Member Since:"})," ",new Date(e.created_at).toLocaleDateString()]}),s.jsx(n,{to:"/edit-profile",children:s.jsx("button",{className:"btn edit-profile-btn",children:"Edit Profile"})})]}),s.jsxs("main",{className:"liked-works",children:[s.jsx("h2",{children:"Designs Liked"}),s.jsx("div",{className:"liked-works-grid",children:e.liked_works.length>0?e.liked_works.map(a=>s.jsx("div",{className:"liked-works-item",style:{backgroundImage:`url(${a.img_url})`},children:s.jsxs("div",{className:"liked-works-info",children:[s.jsx("h3",{children:a.title}),s.jsx("p",{children:a.description}),s.jsx(n,{to:`/portfolio/${a.id}`,children:s.jsx("button",{className:"btn view-details-btn",children:"View Details"})})]})},a.id)):s.jsx("p",{children:"You haven't liked any works yet."})})]})]}):s.jsx("p",{children:"No data available."})}export{f as default};
